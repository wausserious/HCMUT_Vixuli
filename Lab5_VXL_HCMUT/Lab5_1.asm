ORG 0000H
LJMP MAIN
ORG 000BH
LJMP ISR_T0
ORG 0030H
MAIN:
MOV TMOD,#01H
SETB TF0
MOV R7,#0
MOV IE,#82H
SJMP $
ISR_T0:
CJNE R7,#0,NEXT1
MOV R1,23H
SJMP TT
NEXT1:
CJNE R7,#1,NEXT2
MOV R1,22H
SJMP TT
NEXT2:
CJNE R7,#2,NEXT3
MOV R1,21H
SJMP TT
NEXT3:
MOV R1,20H
TT:
LCALL DISPLAYLED
INC R7
CJNE R7,#4,RUN
MOV R7,#0
RUN:
CLR TR0
MOV TH0,#HIGH(-9216)
MOV TL0,#LOW(-9216)
SETB TR0
RETI
DISPLAYLED:
MOV A,R7
MOV DPTR,#TABLE
MOVC A,@A+DPTR
ADD A,R1
MOV DPTR,#0000H
MOVX @DPTR,A
RET
TABLE: DB 0E9H,0D0H, 0B7H, 072H
END
